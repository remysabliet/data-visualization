(this["webpackJsonpd3-simple-examples"]=this["webpackJsonpd3-simple-examples"]||[]).push([[0],{246:function(t,e,a){},247:function(t,e,a){},248:function(t,e,a){},262:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),i=a(120),s=a.n(i),o=(a(246),a(20)),c=(a.p,a(247),a(9)),l=(a(248),a(0)),u=function(){var t=Object(c.f)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"index",children:[Object(l.jsx)("h1",{children:" Index"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)("a",{onClick:function(){return t.push("/x-axis")},children:" X-Axis "})}),Object(l.jsxs)("li",{children:[" ",Object(l.jsx)("a",{onClick:function(){return t.push("/color-bands")},children:" Colors strip "})," "]}),Object(l.jsxs)("li",{children:[" ",Object(l.jsxs)("a",{onClick:function(){return t.push("/h1bsalary")},children:[" ","H1B average salaries"," "]})," "]})]})]})})},h=a(2),d=function(){var t=Object(n.useRef)();Object(n.useEffect)((function(){e()}));var e=function(){var e=h.p().domain([0,10]).range([0,200]),a=h.a(e);h.s(t.current).call(a)};return Object(l.jsx)("svg",{width:"800",height:"100",children:Object(l.jsx)("g",{transform:"translate(10, 30)",ref:t})})},p=a(13),j=a(123),b=a.n(j),f=function(t){var e=t.color,a=t.width,n=t.x,r=t.y;return console.log("Swatch props",e,a,n,r),Object(l.jsx)("rect",{width:a,height:"20",x:n,y:r,style:{fill:e}})},m=function(t){var e=t.propWidth,a=h.r,r=Object(n.useState)((function(){return h.o().domain(h.n(10))})),i=Object(p.a)(r,2),s=i[0],o=i[1],c=Object(n.useState)([]),u=Object(p.a)(c,2),d=(u[0],u[1]);return Object(n.useEffect)((function(){o((function(){return h.o().domain(h.n(10))}))}),[e]),Object(n.useEffect)((function(){s&&(console.log("inside width function",e),s.range([0,e]),d([]))}),[s]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("svg",{width:"600",height:"100",children:Object(l.jsx)("g",{transform:"translate(10, 30)",children:h.n(10).map((function(t){return s&&console.log("step",s.step(),s(t)),Object(l.jsx)(f,{color:a[t],width:s.step(),x:s(t),y:"0"},b()())}))})})})},y=a(4),g=a(5),v=a(7),O=a(8),x=a(6),k=a.n(x),S=a.p+"static/media/H1BSalaryPreloading.07c95b59.png",F=function(){return Object(l.jsxs)("div",{className:"App container",children:[Object(l.jsx)("h1",{children:"The average H1B in tech pays $86,164/year"}),Object(l.jsxs)("p",{className:"lead",children:["Since 2012 the US tech industry has sponsored 176,075 H1B work visas. Most of them paid ",Object(l.jsx)("b",{children:"$60,660 to $111,668"})," per year (1 standard de\\ viation).",Object(l.jsxs)("span",{children:["Show a Preloader 35 The best city for an H1B is ",Object(l.jsx)("b",{children:"Kirkland, WA"})," with an average \\ salary ",Object(l.jsx)("b",{children:"$39,465 above local household median"}),". Median household salary is a good proxy for cost of living in an\\ individual area"]})," "]}),Object(l.jsx)("img",{src:S,style:{width:"100%"},role:"presentation"}),Object(l.jsx)("h2",{className:"text-center",children:"Loading data ..."})]})},w=a(16),N=a.n(w),B=a(124),U=(a(263),function(t){return{countyName:t.Name,USstate:t.State,MedianIncome:Number(t["Median Household Income"]),lowerBound:Number(t["90% CI Lower Bound"]),upperBound:Number(t["90% CI Upper Bound"])}}),D=h.t("%m/%d/%Y"),T=function(t){return!t["base salary"]||Number(t["base salary"])>3e5?null:{employer:t.employer,submit_date:D(t["submit date"]),start_date:D(t["start date"]),case_status:t["case status"],job_title:t["job title"],clean_job_title:t["job title"],base_salary:Number(t["base salary"]),city:t.city,USstate:t.state,county:t.county,countyID:t.countyID}},C=function(t){return{code:t.code,id:Number(t.id),name:t.name}},I=function(){var t=Object(B.a)(N.a.mark((function t(){var e,a=arguments;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.length>0&&void 0!==a[0]?a[0]:k.a.noop,console.log("loadAllData start"),Promise.all([h.g("data/us.json"),h.d("data/us-county-names-normalized.csv"),h.d("data/county-median-incomes.csv",U),h.d("data/h1bs-2012-2016-shortened.csv",T),h.u("data/us-state-names.tsv",C)]).then((function(t){var a=t[1].map((function(t){var e=t.id,a=t.name;return{id:Number(e),name:a}})),n={};t[2].filter((function(t){return k.a.find(a,{name:t.countyName})})).forEach((function(t){t.countyID=k.a.find(a,{name:t.countyName}).id,n[t.countyID]=t}));var r=t[3].filter((function(t){return!k.a.isNull(t)}));e({usTopoJson:t[0],countyNames:a,medianIncomes:n,medianIncomesByCounty:k.a.groupBy(t[2],"countyName"),medianIncomesByUSState:k.a.groupBy(t[2],"USstate"),techSalaries:r,USstateNames:t[4]})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=a(48),A=k.a.reverse(["rgb(247,251,255)","rgb(222,235,247)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,81,156)","rgb(8,48,107)"]),_=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"shouldComponentUpdate",value:function(t,e){var a=this.props,n=a.zoom,r=a.value;return n!==t.zoom||r!==t.value}},{key:"render",value:function(){var t=this.props,e=t.value,a=t.geoPath,n=t.feature,r=t.quantize,i="rgb(240,240,240)";return e&&(i=A[r(e)]),Object(l.jsx)("path",{d:a(n),style:{fill:i},title:n.id})}}]),a}(n.Component),P=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(t){var n;return Object(y.a)(this,a),(n=e.call(this,t)).projection=h.e().scale(1280),n.geoPath=h.f().projection(n.projection),n.quantize=h.q().range(h.n(9)),n.updateD3(t),n}return Object(g.a)(a,[{key:"componentWillReceiveProps",value:function(t){this.updateD3(t)}},{key:"updateD3",value:function(t){if(this.projection.translate([t.width/2,t.height/2]).scale(1.3*t.width),t.zoom&&t.usTopoJson){var e=t.usTopoJson,a=M.a(e,e.objects.states).features,n=k.a.find(t.USstateNames,{code:t.zoom}).id;this.projection.scale(4.5*t.width);var r=this.geoPath.centroid(k.a.find(a,{id:n})),i=this.projection.translate();this.projection.translate([i[0]-r[0]+t.width/2,i[1]-r[1]+t.height/2])}t.values&&this.quantize.domain([h.m(t.values,.15,(function(t){return t.value})),h.m(t.values,.85,(function(t){return t.value}))])}},{key:"render",value:function(){var t=this;if(this.props.usTopoJson){var e=this.props.usTopoJson,a=M.b(e,e.objects.states,(function(t,e){return t!==e})),n=M.a(e,e.objects.counties).features,r=k.a.fromPairs(this.props.values.map((function(t){return[t.countyID,t.value]})));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("g",{transform:"translate(".concat(this.props.x,", ").concat(this.props.y,")"),children:[n.map((function(e){return Object(l.jsx)(_,{geoPath:t.geoPath,feature:e,zoom:t.props.zoom,quantize:t.quantize,value:r[e.id]},e.id)})),Object(l.jsx)("path",{d:this.geoPath(a),style:{fill:"none",stroke:"#fff",strokeLineJoin:"round"}})]}),")"]})}return null}}]),a}(n.Component);var H,W=(H=function(){var t=h.b().scale(this.props.scale).ticks(this.props.data.length);h.s(this.refs.anchor).call(t)},function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){H.call(this)}},{key:"componentDidUpdate",value:function(){H.call(this)}},{key:"render",value:function(){var t=this.props,e=t.x,a=t.y;return Object(l.jsx)("g",{transform:"translate(".concat(e,", ").concat(a,")"),ref:"anchor"})}}]),a}(n.Component)),z=function(t){var e=t.percent,a=t.x,n=t.y,r=t.width,i=t.height,s="translate(".concat(a,", ").concat(n,")"),o=e.toFixed(0)+"%";return e<1&&(o=e.toFixed(2)+"%"),r<20&&(o=o.replace("%","")),r<10&&(o=""),Object(l.jsxs)("g",{transform:s,className:"bar",children:[Object(l.jsx)("rect",{width:r,height:i-2,transform:"translate(0, 1)"}),Object(l.jsx)("text",{textAnchor:"end",x:r-5,y:i/2+3,children:o})," "]})},J=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(t){var n;return Object(y.a)(this,a),(n=e.call(this)).histogram=h.c(),n.widthScale=h.p(),n.yScale=h.p(),n.updateD3(t),n}return Object(g.a)(a,[{key:"componentWillReceiveProps",value:function(t){this.updateD3(t)}},{key:"updateD3",value:function(t){this.histogram.thresholds(t.bins).value(t.value);var e=this.histogram(t.data),a=e.map((function(t){return t.length}));this.widthScale.domain([h.l(a),h.i(a)]).range([0,t.width-t.axisMargin]),this.yScale.domain([0,h.i(e,(function(t){return t.x1}))]).range([0,t.height-t.y-t.bottomMargin])}},{key:"makeBar",value:function(t){var e={percent:t.length/this.props.data.length*100,x:this.props.axisMargin,y:this.yScale(t.x0),width:this.widthScale(t.length),height:this.yScale(t.x1-t.x0),key:"histogram-bar-"+t.x0};return Object(l.jsx)(z,Object(o.a)({},e))}},{key:"render",value:function(){var t="translate(".concat(this.props.x,", ").concat(this.props.y,")"),e=this.histogram(this.props.data);return Object(l.jsxs)("g",{className:"histogram",transform:t,children:[Object(l.jsxs)("g",{className:"bars",children:[" ",e.map(this.makeBar.bind(this))]})," ",Object(l.jsx)(W,{x:this.props.axisMargin-3,y:0,data:e,scale:this.yScale})]})}}]),a}(n.Component),V=a(45),Y=a(116),R=a(28),L=a(119),$=a(125),E=a.n($),q={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},K=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"allDataForYear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.allData;return e.filter((function(e){return e.submit_date.getFullYear()===t}))}},{key:"allDataForJobTitle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.allData;return e.filter((function(e){return e.clean_job_title===t}))}},{key:"allDataForUSstate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.allData;return e.filter((function(e){return e.USstate===t}))}},{key:"yearsFragment",get:function(){var t=this.props.filteredBy.year;return"*"===t?"":"In ".concat(t)}},{key:"USstateFragment",get:function(){var t=this.props.filteredBy.USstate;return"*"===t?"":q[t.toUpperCase()]}},{key:"previousYearFragment",get:function(){var t,e=this.props.filteredBy.year;if("*"===e)t="";else if(2012===e)t="";else{var a=this.props.filteredBy,n=a.USstate,r=a.jobTitle,i=this.allDataForYear(e-1);if("*"!==r&&(i=this.allDataForJobTitle(r,i)),"*"!==n&&(i=this.allDataForUSstate(n,i)),this.props.data.length/i.length>2)t=", "+(this.props.data.length/i.length).toFixed()+" times more than the year before";else{var s=(100*(1-i.length/this.props.data.length)).toFixed();t=", "+Math.abs(s)+"% "+(s>0?"more":"less")+" than the year before"}}return t}},{key:"jobTitleFragment",get:function(){var t=this.props.filteredBy.jobTitle;return"*"===t||"other"===t?"H1B work visas":"H1B work visas for software ".concat(t,"s")}},{key:"countyFragment",get:function(){var t=this,e=k.a.groupBy(this.props.data,"countyID"),a=this.props.medianIncomesByCounty,n=k.a.sortBy(k.a.keys(e).map((function(t){return e[t]})).filter((function(e){return e.length/t.props.data.length>.01})),(function(t){return Object(Y.a)(t,(function(t){return t.base_salary}))-a[t[0].countyID][0].medianIncome})),r=n[n.length-1],i=a[r[0].countyID][0].medianIncome,s=k.a.groupBy(r,"city");n=k.a.sortBy(k.a.keys(s).map((function(t){return s[t]})).filter((function(t){return t.length/r.length>.01})),(function(t){return Object(Y.a)(t,(function(t){return t.base_salary}))-i})),r=n[n.length-1];var o=E()(r[0].city).titleCase().s+", ".concat(r[0].USstate),c=Object(Y.a)(r,(function(t){return t.base_salary})),u=this.jobTitleFragment.replace("H1B work visas for","").replace("H1B work visas","");return Object(l.jsxs)("span",{children:["The best city ",u.length?"for ".concat(u," on an H1B"):"for an H1B"," ",this.yearFragment?"was":"is"," ",Object(l.jsx)("b",{children:o})," with an average  salary $",this.format(c-i)," above the local household median. Median household income is a good proxy for cost of living in an area. ",Object(l.jsx)("a",{href:"https://en.wikipedia.org/wiki/Household_income",children:"[1]"}),"."]})}},{key:"format",get:function(){return Object(V.a)().domain(Object(R.a)(this.props.data,(function(t){return t.base_salary}))).tickFormat()}},{key:"render",value:function(){var t=this.format,e=Object(Y.a)(this.props.data,(function(t){return t.base_salary})),a=Object(L.a)(this.props.data,(function(t){return t.base_salary}));return Object(l.jsxs)("p",{className:"lead",children:[this.yearsFragment?this.yearsFragment:"Since 2012"," the ",this.UStateFragment," tech industry ",this.yearsFragment?"sponsored":"has sponsored"," ",Object(l.jsxs)("b",{children:[t(this.props.data.length)," ",this.jobTitleFragment]}),this.previousYearFragment,". Most of them paid ",Object(l.jsxs)("b",{children:["$",t(e-a)," to $",t(e+a)]})," per year. ",this.countyFragment]})}}]),a}(n.Component),G=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"jobTitleFragment",get:function(){var t=this.props.filteredBy.jobTitle;return"*"===t||"other"===t?"in tech":"a Software ".concat(t)}},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"col-md-6 text-center",children:[Object(l.jsxs)("h3",{children:["Best places to be ",this.jobTitleFragment]}),Object(l.jsxs)("small",{children:["Darker color means bigger difference between median household salary",Object(l.jsx)("br",{}),"and individual tech salary. Gray means lack of tech salary data."]})]}),Object(l.jsxs)("div",{className:"col-md-6 text-center",children:[Object(l.jsx)("h3",{children:"Salary distribution"}),Object(l.jsx)("small",{children:"Histogram shows tech salary distribution compared to median household income, which is a good proxy for cost of living."})]})]})}}]),a}(n.Component),X=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"yearsFragment",get:function(){var t=this.props.filteredBy.year;return"*"===t?"":"in ".concat(t)}},{key:"USstateFragment",get:function(){var t=this.props.filteredBy.USstate;return"*"===t?"":q[t.toUpperCase()]}},{key:"jobTitleFragment",get:function(){var t=this.props.filteredBy,e=t.jobTitle,a=t.year,n="";return"*"===e?n="*"===a?"The average H1B in tech pays":"The average tech H1B paid":"*"===e?n="H1Bs in tech pay":(n="Software ".concat(e,"s on an H1B"),n+="*"===a?" make":" made"),n}},{key:"format",get:function(){return Object(V.a)().domain(Object(R.a)(this.props.data,(function(t){return t.base_salary}))).tickFormat()}},{key:"render",value:function(){var t=this.format(Object(Y.a)(this.props.data,(function(t){return t.base_salary})));return this.yearsFragment&&this.USstateFragment?Object(l.jsxs)("h2",{children:["In ",this.USstateFragment,", ",this.jobTitleFragment," $",t,"/year"," ",this.yearsFragment]}):Object(l.jsxs)("h2",{children:[this.jobTitleFragment," $",t,"/year"," ",this.USstateFragment?"in ".concat(this.stateFragment):""," ",this.yearsFragment]})}}]),a}(n.Component),Z=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"componentWillMount",value:function(){this.yScale=h.p(),this.updateD3(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.updateD3(t)}},{key:"updateD3",value:function(t){this.yScale.domain([0,h.i(t.data,t.value)]).range([0,t.height-t.y-t.bottomMargin])}},{key:"render",value:function(){var t=this.props.median||h.k(this.props.data,this.props.value),e=h.h()([[0,5],[this.props.width,5]]),a="translate(".concat(this.props.x,", ").concat(this.yScale(t),")"),n="Median Household: $".concat(this.yScale.tickFormat()(t));return Object(l.jsxs)("g",{className:"mean",transform:a,children:[Object(l.jsx)("text",{x:this.props.width-5,y:"0",textAnchor:"end",children:n}),Object(l.jsx)("path",{d:e})]})}}]),a}(n.Component),Q=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"handleClick",value:function(t){this.props.onClick(this.props.name,!this.props.value)}},{key:"render",value:function(){var t="btn btn-default";return this.props.value&&(t+=" btn-primary"),Object(l.jsx)("button",{className:t,onClick:this.handleClick.bind(this),children:this.props.label})}}]),a}(n.Component),tt=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"makePick",value:function(t,e){var a=this.state.toggleValues;a=k.a.mapValues(a,(function(a,n){return e&&n==t})),this.props.updateDataFilter(t,!e),this.setState({toggleValues:a})}},{key:"componentWillMount",value:function(){var t=this,e=this.props.toggleNames,a=k.a.zipObject(e,e.map((function(e){return e===t.props.picked})));this.setState({toggleValues:a})}},{key:"componentWillReceiveProps",value:function(t){this.props.picked!==t.picked&&this.makePick(t.picked,!0)}},{key:"_addToggle",value:function(t){var e="toggle-".concat(t),a=t;return this.props.capitalize&&(a=a.toUpperCase()),Object(l.jsx)(Q,{label:a,name:t,value:this.state.toggleValues[t],onClick:this.makePick.bind(this)},e)}},{key:"render",value:function(){var t=this;return Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-12",children:this.props.toggleNames.map((function(e){return t._addToggle(e)}))})})}}]),a}(n.Component),et=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={yearFilter:function(){return!0},jobTitleFilter:function(){return!0},USstateFilter:function(){return!0},year:"*",USstate:"*",jobTitle:"*"},t}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var t=window.location.hash.replace("#","").split("-"),e=Object(p.a)(t,3),a=e[0],n=e[1],r=e[2];"*"!==a&&a&&this.updateYearFilter(Number(a)),"*"!==n&&n&&this.updateUSstateFilter(n),"*"!==r&&r&&this.updateJobTitleFilter(r)}},{key:"updateYearFilter",value:function(t,e){var a=function(e){return e.submit_date.getFullYear()===t};!e&&t||(a=function(){return!0},t="*"),this.setState({yearFilter:a,year:t})}},{key:"updateJobTitleFilter",value:function(t,e){var a=function(e){return e.clean_job_title===t};!e&&t||(a=function(){return!0},t="*"),this.setState({jobTitleFilter:a,jobTitle:t})}},{key:"updateUSstateFilter",value:function(t,e){var a=function(e){return e.USstate===t};!e&&t||(a=function(){return!0},t="*"),this.setState({USstateFilter:a,USstate:t})}},{key:"componentDidUpdate",value:function(){window.location.hash=[this.state.year||"*",this.state.USstate||"*",this.state.jobTitle||"*"].join("-"),this.reportUpdateUpTheChain()}},{key:"reportUpdateUpTheChain",value:function(){var t;this.props.updateDataFilter((t=this.state,function(e){return t.yearFilter(e)&&t.jobTitleFilter(e)&&t.USstateFilter(e)}),{USstate:this.state.USstate,year:this.state.year,jobTitle:this.state.jobTitle})}},{key:"shouldComponentUpdate",value:function(t,e){return!k.a.isEqual(this.state,e)}},{key:"render",value:function(){var t=this.props.data,e=new Set(t.map((function(t){return t.submit_date.getFullYear()}))),a=new Set(t.map((function(t){return t.clean_job_title}))),n=new Set(t.map((function(t){return t.USstate})));return Object(l.jsxs)("div",{children:[Object(l.jsx)(tt,{data:t,toggleNames:Array.from(e.values()),picked:this.state.year,updateDataFilter:this.updateYearFilter.bind(this)}),Object(l.jsx)(tt,{data:t,toggleNames:Array.from(a.values()),picked:this.state.jobTitle,updateDataFilter:this.updateJobTitleFilter.bind(this)}),Object(l.jsx)(tt,{data:t,toggleNames:Array.from(n.values()),picked:this.state.USstate,updateDataFilter:this.updateUSstateFilter.bind(this),capitalize:"true"})]})}}]),a}(n.Component),at=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={techSalaries:[],countyNames:[],medianIncomes:[],salariesFilter:function(){return!0},filteredBy:{USstate:"*",year:"*",jobTitle:"*"}},t}return Object(g.a)(a,[{key:"componentWillMount",value:function(){var t=this;I((function(e){return t.setState(e)}))}},{key:"countyValue",value:function(t,e){var a=this.state.medianIncomes[t.id],n=e[t.name];if(!a||!n)return null;var r=h.k(n,(function(t){return t.base_salary}));return{countyID:t.id,value:r-a.MedianIncome}}},{key:"updateDataFilter",value:function(t,e){this.setState({salariesFilter:t,filteredBy:e})}},{key:"shouldComponentUpdate",value:function(t,e){var a=this.state,n=a.techSalaries,r=a.filteredBy,i=(n&&n.length)!==(e.techSalaries&&e.techSalaries.length),s=Object.keys(r).some((function(t){return r[t]!==e.filteredBy[t]}));return i||s}},{key:"render",value:function(){var t=this;if(this.state.techSalaries.length<1)return Object(l.jsx)(F,{});var e=this.state.techSalaries.filter(this.state.salariesFilter),a=k.a.groupBy(e,"countyID"),n=this.state.countyNames.map((function(e){return t.countyValue(e,a)})).filter((function(t){return!k.a.isNull(t)})),r=null,i=this.state.medianIncomesByUSState.US[0].medianIncome;return"*"!==this.state.filteredBy.USstate&&(r=this.state.filteredBy.USstate,i=h.j(this.state.medianIncomesByUSState[r],(function(t){return t.medianIncome}))),Object(l.jsxs)("div",{className:"App container",children:[Object(l.jsx)(X,{data:e,filteredBy:this.state.filteredBy}),Object(l.jsx)(K,{data:e,allData:this.state.techSalaries,medianIncomesByCounty:this.state.medianIncomesByCounty,filteredBy:this.state.filteredBy}),Object(l.jsx)(G,{data:e,filteredBy:this.state.filteredBy}),Object(l.jsxs)("svg",{width:"1100",height:"500",children:[Object(l.jsx)(P,{usTopoJson:this.state.usTopoJson,USstateNames:this.state.USstateNames,values:n,x:0,y:0,width:500,height:500,zoom:r}),Object(l.jsx)("rect",{x:"500",y:"0",width:"600",height:"500",style:{fill:"white"}}),Object(l.jsx)(J,{bins:10,width:500,height:500,x:"500",y:"10",data:e,axisMargin:83,bottomMargin:5,value:function(t){return t.base_salary}}),Object(l.jsx)(Z,{data:e,x:500,y:10,width:600,height:500,bottomMargin:5,median:i,value:function(t){return t.base_salary}})]}),Object(l.jsx)(et,{data:this.state.techSalaries,updateDataFilter:this.updateDataFilter.bind(this)}),Object(l.jsxs)("small",{children:["Sources: 2014 US census data for median household incomes,"," ",Object(l.jsx)("a",{href:"http://h1bdata.info/",children:"h1bdata.info"}),' for tech salaries (filtered by "software")']})]})}}]),a}(n.Component),nt=function(t){return Object(l.jsxs)(c.c,{children:[Object(l.jsx)(c.a,{exact:!0,path:"/",render:function(e){return Object(l.jsx)(u,Object(o.a)({},t))}}),Object(l.jsx)(c.a,{exact:!0,path:"/x-axis",render:function(e){return Object(l.jsx)(d,Object(o.a)({},t))}}),Object(l.jsx)(c.a,{exact:!0,path:"/color-bands",render:function(e){return Object(l.jsx)(m,Object(o.a)({propWidth:300},t))}}),Object(l.jsx)(c.a,{exact:!0,path:"/h1bsalary",render:function(e){return Object(l.jsx)(at,Object(o.a)({},t))}})]})};var rt=function(t){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(nt,Object(o.a)({},t))})},it=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,266)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),i(t),s(t)}))},st=a(43);a(260),a(261);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(st.a,{children:Object(l.jsx)(rt,{})})}),document.getElementById("root")),it()}},[[262,1,2]]]);
//# sourceMappingURL=main.da6d4bcc.chunk.js.map